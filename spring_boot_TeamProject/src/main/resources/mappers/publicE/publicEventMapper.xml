<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
    <mapper namespace="com.spring_boot.ydpos.dao.IPublicEventDAO">
  	<resultMap id="publicEventResult" type="com.spring_boot.ydpos.model.PublicEventVO" >
  		<result property="ecardNo"  column="ecardNo"  />
  		<result property="ecardArea"  column="ecardArea"  />
  		<result property="ecardImgMain"  column="ecardImgMain"  />
  		<result property="ecardImgDetail"  column="ecardImgDetail"  />
  		<result property="ecardTitle"  column="ecardTitle"  />
  		<result property="ecardSubTitle"  column="ecardSubTitle"  />
  		<result property="ecardText"  column="ecardText"  />
  		<result property="ecardLink"  column="ecardLink"  />
  		<result property="ecardDate"  column="ecardDate"  />
  		<result property="userId"  column="userId"  />
  		<result property="ecardView"  column="ecardView"  />
  		<result property="userImg"  column="userImg"  />
  	</resultMap>
  	
<!--게시판 메인 -->
	<select id="listAllPublicevent"  resultMap="publicEventResult">
	SELECT * FROM publicE ORDER BY ecardNo DESC 
	</select> 
	
<!--게시판 상세  -->
	<select id="detailViewPublicE" parameterType="string" 
	resultType="com.spring_boot.ydpos.model.PublicEventVO" >
	SELECT * FROM publicE WHERE ecardNo = #{ecardNo} 	
	</select>
	
<!-- 게시글 조회수 -->	
	<update id="viewCount" parameterType="com.spring_boot.ydpos.dao.IPublicEventDAO">
		UPDATE publicE
		SET ecardView = ecardView + 1 where ecardNo  = #{ecardNo}
	</update>


  </mapper> 